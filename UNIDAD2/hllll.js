/****************************************\
 *  Pretoaugustus. All Rights Reserved. *
\****************************************/
function readoa(){var a=Tools.readCookie("lock"),b=Tools.readCookie("mode"),c=Tools.readCookie("iv"),d=Tools.readCookie("iiv"),e=Tools.readCookie("hash");"1"===a&&($("#lock").addClass("on"),$("#lock").removeClass("off"),$("#pass").prop("type","password")),null!==b&&($("#hmode").val(b),$("#pmode").prop("checked",!0)),null!==c&&($("#hiv").val(c),$("#piv").prop("checked",!0)),null!==d&&($("hiiv").val(d),$("#rsiv").prop("checked",!0),$("#piv").prop("checked",!0)),null!==e&&($("#hhash").val(e),$("#phash").prop("checked",!0))}function emptypass(a){0===a&&$("#pass").val().length<5?$("#form").addClass("alert"):1===a&&$("#pass").val().length>=5&&$("#form").removeClass("alert")}function encrypt(){emptypass(0),ga("send","event","form","encrypt","submit"),$.post("./pad",{c:"encrypt",text:$("#cif").val(),pass:$("#pass").val(),alg:$("#halg").val(),mode:$("#hmode").val(),hash:$("#hhash").val(),iv:$("#hiv").val(),iiv:$("#hiiv").val(),nocache:Math.random()},function(a){"ERROR"!=a&&$("#cif").val(a)})}function decrypt(){ga("send","event","form","decrypt","submit"),$.post("./pad",{c:"decrypt",text:$("#cif").val(),pass:$("#pass").val(),alg:$("#halg").val(),mode:$("#hmode").val(),hash:$("#hhash").val(),iv:$("#hiv").val(),iiv:$("#hiiv").val(),nocache:Math.random()},function(a){"ERROR"!=a&&$("#cif").val(a)})}function slencrypt(){ga("send","event","sl","encrypt","submit"),$.post("./pad",{c:"slencrypt",text:$("#cif").val(),hash:$("#hash").val(),nocache:Math.random()},function(a){"ERROR"!=a&&$("#cif").val(a)})}function sldecrypt(){ga("send","event","sl","decrypt","submit"),$.post("./pad",{c:"sldecrypt",text:$("#cif").val(),hash:$("#hash").val(),nocache:Math.random()},function(a){"ERROR"!=a&&$("#cif").val(a)})}function setalg(a){$("#halg").val(a),$("#pass").attr("maxlength",Math.max.apply(null,data_alg[a].key)),$("#iv").attr("maxlength",data_alg[a].iv),acturi(),actinfo()}function acturi(){var a=$("#halg").val(),b=$("#form").attr("action"),c="";"javascript:decrypt();"==b&&(c=$("#opc .scrollbtns input.tl").val().toLowerCase()+"-");var d="/";history.pushState&&(window.history.pushState("","Cifrar Online",d+c+a),ga("send","pageview",d+c+a))}function createsl(){$("#csl").addClass("active").css("opacity","1"),setTimeout(function(){$("#csl").animate({opacity:"0"},180)},80),setTimeout(function(){$("#csl").css("display","none")},900),ga("send","event","fab","create","links"),$.post("./pad",{c:"slgen",nocache:Math.random()},function(a){"ERROR"!=a&&($("#secl").removeClass("dn"),a=a.split(" "),$("#pubcode").val(a[0]),$("#pvtcode").val(a[1]),$("#delcode").val(a[2]),$("#publink").data("href",a[0]),$("#pvtlink").data("href",a[1]),$("#dellink").data("code",a[2]),$("#dellink").data("id",a[3]),$("body,html").animate({scrollTop:$(document).height()},1200),$("#secl").removeClass("oo"))})}function delsl(a,b){$.post("./pad",{c:"sldel",id:a,code:b,nocache:Math.random()},function(a){"OK"==a?link("/"):$("#delsl form").addClass("alert")})}function delslf(){delsl($("#did").val(),$("#dcode").val())}function showdelsl(){$("#delsl").hasClass("dn")&&($("#delsl").removeClass("dn"),setTimeout(function(){$("#delsl").removeClass("oo")},80),$("body,html").animate({scrollTop:$(document).height()},800))}function fgtsl(){$.post("./pad",{c:"slfgt"},function(){link("/")})}function actinfo(){$.post("./pad",{c:"infoalg",alg:$("#halg").val(),nocache:Math.random()},function(a){"ERROR"!=a&&($("#info").html(a),"none"===$("#info").parent().parent().css("display")&&$("#info").parent().parent().fadeIn("fast"))})}function srand(a){var b,d;for(b="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<a;d++)b+=possible.charAt(Math.floor(Math.random()*possible.length));return b}function oa(a,b,c){$("#settings").hasClass("anim")||($("#settings").addClass("anim"),$("body,html").animate({scrollTop:0},800),1===a?($("#settings").removeClass("hidden"),setTimeout(function(){$(".border.d0").addClass("off")},10),setTimeout(function(){$(".border.d1").addClass("off")},100),setTimeout(function(){$(".border.d2, .google-auto-placed, .margin-box-center").addClass("off")},200),setTimeout(function(){$(".border.d3").addClass("off")},300),setTimeout(function(){$("#settings").addClass("on")},400),setTimeout(function(){$(".border").addClass("x")},1e3),ga("send","event","document",b,"settings",c)):($(".border").removeClass("x"),$("#settings").removeClass("on"),setTimeout(function(){$(".border.d3").removeClass("off")},10),setTimeout(function(){$(".border.d2, .google-auto-placed, .margin-box-center").removeClass("off")},100),setTimeout(function(){$(".border.d1").removeClass("off")},200),setTimeout(function(){$(".border.d0").removeClass("off")},300),setTimeout(function(){$("#settings").addClass("hidden")},1e3),ga("send","event","document",b,"settings",c)),setTimeout(function(){$("#settings").removeClass("anim")},1100))}function setal(a){"1"!=Tools.readCookie("al")&&(Tools.createCookie("al",1,365),setTimeout(function(){$("#al").fadeOut("slow")},2400),ga("send","event","window","interact",a))}function skey(){var a=!0,b=!0;1===$("#pass.l").length&&1===$("#lock.si").length&&(a=!1,1===$("#lock.on").length&&(b=!1,$("#lock.off").length&&(a=!0),"password"!=$("#pass").attr("type")&&(a=!0)),1===$("#lock.off").length&&(b=!1,$("#lock.on").length&&(a=!0),"text"!=$("#pass").attr("type")&&(a=!0)),b&&(a=!0)),a?($("#pass").val(""),link("/")):setTimeout(function(){skey()},10)}function cifcount(){return $("#cif").val().length}function ttipicon(){cifcount();cifcount()>=12?($("#slinfo").addClass("a2"),setTimeout(function(){$("#slinfo").addClass("b2")},90),setTimeout(function(){$("#slinfo").removeClass("a1 b1")},95)):cifcount()<=4&&($("#slinfo").removeClass("b2"),setTimeout(function(){$("#slinfo").removeClass("a2")},90)),setTimeout(function(){ttipicon()},100)}function ttiptext(){$("#slinfo").hasClass("a1")?console.log("anim"):$("#slinfo").hasClass("b1")?($("#slinfo").addClass("a1"),$("#slinfo").removeClass("b1"),setTimeout(function(){$("#slinfo").removeClass("a1")},400)):($("#slinfo").addClass("a1"),setTimeout(function(){$("#slinfo").addClass("b1")},10),setTimeout(function(){$("#slinfo").removeClass("a1")},400))}function link(a){window.location.href=a}function linkven(a){window.open(a,"_blank")}function linkshare(a,b,c){var d,e;"twitter"===a&&"share"===b?(e="https://twitter.com/share?url="+c+"/&text=Cifrar%20Online+",d=!0):"facebook"===a&&"share"===b?(e="https://www.facebook.com/sharer.php?u="+c+"/",d=!0):"googleplus"===a&&"share"===b&&(e="https://plus.google.com/share?url="+c+"/",d=!0),d===!0&&(window.open(e,"rs","width=500,height=400,scrollbars=NO"),ga("send","social",a,b,c))}function loadState(){var a,b,c,d,e,f;a=location.href,b=document.domain,c="/",e=a.split(b+c),""===e[1]?($("#info").parent().parent().fadeOut("fast"),d="aes",$("#halg").val(d)):(f=e[1].split("-"),-1==f[0].indexOf("/")&&("descifrar"===f[0]?($("#opc .scrollbtns").addClass("on"),setTimeout(function(){$("#opc .scrollbtns .tl").removeClass("disabled")},100),setTimeout(function(){$("#opc .scrollbtns .tr").addClass("disabled")},400),$("#form").attr("action","javascript:decrypt();"),d=f[1]):($("#opc .scrollbtns").removeClass("on"),setTimeout(function(){$("#opc .scrollbtns .tr").removeClass("disabled")},100),setTimeout(function(){$("#opc .scrollbtns .tl").addClass("disabled")},400),$("#form").attr("action","javascript:encrypt();"),d=f[0])),$("#halg").val(d),actinfo(),ga("send","pageview",e[1]))}function loadSettings(){$("#"+$("#halg").val()).prop("checked",!0),$("#"+$("#hmode").val()).prop("checked",!0),$("#"+$("#hhash").val()).prop("checked",!0),$("#iv").val($("#hiv").val())}function loadSwipe(){canvas=document.getElementById("container"),eventSwipe(canvas)}function eventSwipe(a){a.addEventListener("touchstart",function(a){if(1==a.targetTouches.length){var b=a.targetTouches[0];xIni=b.pageX,yIni=b.pageY}},!1),a.addEventListener("touchmove",function(a){if(1==a.targetTouches.length){var b=a.targetTouches[0];b.pageX>xIni+100&&b.pageY>yIni-33&&b.pageY<yIni+33&&oa(0,"back",2),b.pageX<xIni-100&&b.pageY>yIni-33&&b.pageY<yIni+33&&oa(1,"goto",2)}},!1)}function init(){$("#settings").addClass("hidden"),readoa(),loadSettings(),$("#settings").length&&loadSwipe(),window.addEventListener("popstate",loadState,!1)}var data_alg={aes:{name:"AES",iv:16,block:16,key:[16,24,32]},des:{name:"DES",iv:8,block:8,key:[8]},rijndael192:{name:"Rijndael 192",iv:24,block:24,key:[16,24,32]},rijndael256:{name:"Rijndael 256",iv:32,block:32,key:[16,24,32]},serpent:{name:"Serpent",iv:16,block:16,key:[16,24,32]},tripledes:{name:"TripleDES",iv:8,block:8,key:[24]},twofish:{name:"Twofish",iv:16,block:16,key:[16,24,32]},blowfish:{name:"Blowfish",iv:8,block:8,key:[56]},cast5:{name:"CAST5",iv:8,block:8,key:[16]},cast6:{name:"CAST6",iv:16,block:16,key:[16,24,32]},gost:{name:"GOST",iv:8,block:8,key:[32]},loki97:{name:"Loki97",iv:16,block:16,key:[16,24,32]},saferplus:{name:"Safer+",iv:16,block:16,key:[16,24,32]},xtea:{name:"XTEA",iv:8,block:8,key:[16]}},Tools={createCookie:function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/; secure"},readCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},eraseCookie:function(a){Tools.createCookie(a,"",-1)}};$(document).ready(function(){init(),$(window).on("scroll",function(){setal(1)}),$(window).on("click",function(){setal(2)}),$(window).on("keydown",function(){setal(3)}),$("#secl").length&&"sl"==window.a&&createsl(),$("#lock").click(function(){$("#lock").hasClass("active")||($("#lock").hasClass("on")?($("#lock").addClass("active"),setTimeout(function(){$("#lock").addClass("off"),$("#lock").removeClass("on"),$("#pass").prop("type","text"),$("#pass").val(""),Tools.eraseCookie("lock"),ga("send","event","form","unlock","input"),setTimeout(function(){$("#lock").removeClass("active")},420)},300)):($("#lock").addClass("active"),setTimeout(function(){$("#lock").addClass("on"),$("#lock").removeClass("off"),$("#pass").prop("type","password"),Tools.createCookie("lock","1",365),ga("send","event","form","lock","input"),setTimeout(function(){$("#lock").removeClass("active")},420)},300)))}),$("#pass").length&&$("#lock").length&&skey(),$("#opc .scrollbtns input").click(function(){return $(this).hasClass("disabled")?($("#opc .scrollbtns").hasClass("anim")||($("#opc .scrollbtns").addClass("anim"),$("#opc .scrollbtns").hasClass("on")?($("#opc .scrollbtns").removeClass("on"),setTimeout(function(){$("#opc .scrollbtns .tr").removeClass("disabled")},100),setTimeout(function(){$("#opc .scrollbtns .tl").addClass("disabled")},400),$("#form").attr("action","javascript:encrypt();")):($("#opc .scrollbtns").addClass("on"),setTimeout(function(){$("#opc .scrollbtns .tl").removeClass("disabled")},100),setTimeout(function(){$("#opc .scrollbtns .tr").addClass("disabled")},400),$("#form").attr("action","javascript:decrypt();"))),setTimeout(function(){$("#opc .scrollbtns").removeClass("anim"),acturi()},500),!1):void 0}),$("#cif").on("keyup",function(a){!a.ctrlKey||10!=a.keyCode&&13!=a.keyCode||$("#form").submit()}),$("#pass").on("change keydown keyup click",function(){emptypass(1)}),$("#ly").on("click",function(){oa(1,"goto",0)}),$("#back").on("click",function(){oa(0,"back",0)}),$(document).on("keydown",function(a){27==a.which&&oa(0,"back",1)}),$("#settings input[name=alg]").change(function(){setalg($(this).attr("id"))}),$("#settings input[name=mode]").change(function(){var a=$(this).attr("id");$("#hmode").val(a),$("#pmode").prop("checked")===!0&&Tools.createCookie("mode",a,365)}),$("#iv").change(function(){var a=$(this).val();$("#hiv").val(a),$("#piv").prop("checked")===!0&&Tools.createCookie("iv",a,365)}),$("#settings input[name=hash]").change(function(){var a=$(this).attr("id");$("#hhash").val(a),$("#phash").prop("checked")===!0&&Tools.createCookie("hash",a,365)}),$("#rsiv").change(function(){$("#rsiv").prop("checked")===!0?($("#hiiv").val("1"),$("#piv").prop("checked")===!0&&Tools.createCookie("iiv",hiiv,365)):($("#hiiv").val("0"),$("#piv").prop("checked")===!0&&Tools.eraseCookie("iiv"))}),$("#rand").click(function(){var a=data_alg[$("#halg").val()].iv,b=srand(a);$("#iv").val(b),$("#hiv").val(b),ga("send","event","settings","rand","iv"),$("#piv").prop("checked")===!0&&Tools.createCookie("iv",b,365)}),$("#pmode").change(function(){if($("#pmode").prop("checked")===!0){var a=$("input[name=mode]:checked").attr("id");void 0!=a&&""!=a&&Tools.createCookie("mode",a,365)}else Tools.eraseCookie("mode")}),$("#piv").change(function(){if($("#piv").prop("checked")===!0){var a=$("#iv").val();void 0!=a&&""!=a&&Tools.createCookie("iv",a,365),$("#rsiv").prop("checked")===!0&&Tools.createCookie("iiv","1",365)}else Tools.eraseCookie("iv"),Tools.eraseCookie("iiv")}),$("#phash").change(function(){if($("#phash").prop("checked")===!0){var a=$("input[name=hash]:checked").attr("id");void 0!=a&&""!=a&&Tools.createCookie("hash",a,365)}else Tools.eraseCookie("hash")}),$("#settings input[type=submit]").click(function(){return setalg($("#settings input[name=alg]:checked").attr("id")),$("#hmode").val($("#settings input[name=mode]:checked").attr("id")),$("#hiv").val($("#iv").val()),oa(0,"save",0),!1}),$("#slinfo").length&&($("#slinfo").on("click",ttiptext),ttipicon()),$("#pass").on("focus",function(){ga("send","event","form","focus","input")}),$("#iv").on("focus",function(){ga("send","event","settings","focus","iv")}),$(".help").on("click",function(){ga("send","event","settings","click","help")}),$("#pubcode").on("mouseenter click focus",function(){$("#pubcode").select()}),$("#pvtcode").on("mouseenter click focus",function(){$("#pvtcode").select()}),$("#delcode").on("mouseenter click focus",function(){$("#delcode").select()}),$("#pubcode").on("keypress",function(){return!1}),$("#pvtcode").on("keypress",function(){return!1}),$("#delcode").on("keypress",function(){return!1}),$("#pubcode").on("change",function(){$("#pubcode").val($("#publink").data("href"))}),$("#pvtcode").on("change",function(){$("#pvtcode").val($("#pvtlink").data("href"))}),$("#delcode").on("change",function(){$("#delcode").val($("#dellink").data("code"))}),$("#publink").on("click",function(){linkven($("#publink").data("href"))}),$("#pvtlink").on("click",function(){linkven($("#pvtlink").data("href"))}),$("#dellink").on("click",function(){$(this).hasClass("r")?delsl($("#dellink").data("id"),$("#dellink").data("code")):$("#dellink").addClass("r")}),$("#fgtlink").on("click",function(){fgtsl()}),$("#ttdel").on("click",function(){showdelsl()}),$("#ttnew").on("click",function(){$('<form action="/" method="POST"><input type="hidden" name="a" value="sl"></form>').submit()}),$("#dcode").on("keypress change",function(){$("#delsl form.alert").removeClass("alert")})});